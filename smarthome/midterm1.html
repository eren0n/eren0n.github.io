<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YTÃœ - Enerji YÃ¶netimi SÄ±navÄ± (Karma)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <script src="translations.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        /* Ã–zel kaydÄ±rma Ã§ubuÄŸu */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #1e3a8a; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #1e40af; }

        /* SÄ±nav sonuÃ§ stilleri */
        .correct-answer-label {
            background-color: #dcfce7; /* green-100 */
            border: 1px solid #16a34a; /* green-600 */
            color: #15803d; /* green-700 */
            font-weight: bold;
        }
        .wrong-answer-label {
            background-color: #fee2e2; /* red-100 */
            border: 1px solid #dc2626; /* red-600 */
            color: #b91c1c; /* red-700 */
            text-decoration: line-through;
        }
    </style>
</head>
<body class="bg-slate-50 min-h-screen text-slate-800">

    <header class="bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 h-20 flex justify-between items-center">
            <div class="flex items-center gap-4">
                <div class="w-12 h-12 bg-blue-900 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-md">
                    YTÃœ
                </div>
                <div>
                    <h1 class="text-lg sm:text-xl font-bold text-blue-900 leading-tight" data-translate="siteTitle" data-section="common">AkÄ±llÄ± Evler ve Enerji YÃ¶netimi</h1>
                    <p class="text-xs sm:text-sm text-gray-500"><span data-translate="mixedExam" data-section="quiz">Karma SÄ±nav</span> (<span data-translate="chapters" data-section="quiz">BÃ¶lÃ¼m 1-4</span>)</p>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <button id="lang-switch-btn" class="px-3 py-2 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors duration-200 border border-blue-200" aria-label="Dil deÄŸiÅŸtir">
                    <span class="text-sm font-semibold">ðŸ‡¬ðŸ‡§ EN</span>
                </button>
                <div class="hidden sm:block text-right">
                    <span class="block text-sm font-semibold text-blue-800" data-translate="prepareForExam" data-section="common">SÄ±nava HazÄ±rlan</span>
                    <span class="block text-xs text-gray-500" data-translate="courseNotesSeries" data-section="common">Ders Ã–zeti Serisi</span>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
        
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-8 mb-10">
            <h2 class="text-2xl font-bold text-gray-800 mb-4"><span data-translate="mixedExam" data-section="quiz">Karma DeÄŸerlendirme SÄ±navÄ±</span> (<span data-translate="chapters" data-section="quiz">BÃ¶lÃ¼m 1-4</span>)</h2>
            <p class="text-gray-600 leading-relaxed" data-translate="examIntro" data-section="quiz">
                Bu sÄ±nav, dersin ilk dÃ¶rt bÃ¶lÃ¼mÃ¼ndeki (PDF 1-4) temel kavramsal bilgilerinizi Ã¶lÃ§mek iÃ§in hazÄ±rlanmÄ±ÅŸtÄ±r.
                15 adet Ã§oktan seÃ§meli sÃ¶zel soru bulunmaktadÄ±r. BaÅŸarÄ±lar!
            </p>
        </div>

        <form id="quiz-form">
            <div id="quiz-container" class="space-y-10">
                </div>

            <div class="mt-12 text-center">
                <button type="submit" id="submit-btn" class="bg-blue-800 text-white font-bold py-3 px-10 rounded-lg shadow-lg hover:bg-blue-700 transition-colors duration-300" data-translate="finishExam" data-section="quiz">
                    SÄ±navÄ± Bitir
                </button>
            </div>
        </form>

        <div id="results-container" class="hidden bg-white rounded-xl shadow-lg border border-gray-100 p-8 mb-10 mt-12">
            </div>

    </main>

    <footer class="bg-blue-900 text-blue-100 py-8 mt-12">
        <div class="max-w-6xl mx-auto px-4 text-center">
            <p class="text-sm" data-translate="footer.copyright" data-section="common">&copy; 2025 eren0n. TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
            <p class="text-xs mt-2 opacity-60" data-translate="footer.goodLuck" data-section="common">SÄ±navÄ±nÄ±zda BaÅŸarÄ±lar.</p>
        </div>
    </footer>

    <script>
        // Bilingual Quiz Data - Both Turkish and English
        const quizDataBilingual = {
            tr: [
                {
                    id: 1,
                    question: "(BÃ¶lÃ¼m 1) 'Enerji YoÄŸunluÄŸu' (Energy Intensity) kavramÄ± nedir ve yÃ¼ksek olmasÄ± ne anlama gelir?",
                    options: [
                        "KiÅŸi baÅŸÄ± tÃ¼ketimdir; yÃ¼ksek olmasÄ± refahÄ± gÃ¶sterir.",
                        "GSYÄ°H baÅŸÄ±na dÃ¼ÅŸen enerjidir; yÃ¼ksek olmasÄ± verimsizliÄŸi gÃ¶sterir.",
                        "Santral kapasitesidir; yÃ¼ksek olmasÄ± arz gÃ¼venliÄŸini gÃ¶sterir.",
                        "Yenilenebilir enerji oranÄ±dÄ±r; yÃ¼ksek olmasÄ± Ã§evreciliÄŸi gÃ¶sterir."
                    ],
                    correctAnswer: "GSYÄ°H baÅŸÄ±na dÃ¼ÅŸen enerjidir; yÃ¼ksek olmasÄ± verimsizliÄŸi gÃ¶sterir."
                },
                {
                    id: 2,
                    question: "(BÃ¶lÃ¼m 2) 'YÃ¼k FaktÃ¶rÃ¼'nÃ¼n (Load Factor) tanÄ±mÄ± nedir?",
                    options: [
                        "Ortalama YÃ¼k / Maksimum Talep",
                        "Maksimum Talep / Ortalama YÃ¼k",
                        "Maksimum Talep / Toplam BaÄŸlÄ± YÃ¼k",
                        "Toplam BaÄŸlÄ± YÃ¼k / Ortalama YÃ¼k"
                    ],
                    correctAnswer: "Ortalama YÃ¼k / Maksimum Talep"
                },
                {
                    id: 3,
                    question: "(BÃ¶lÃ¼m 3) Bir elektrik faturasÄ±ndaki 'Talep Bedeli' (Demand Charge) neyin karÅŸÄ±lÄ±ÄŸÄ± olarak alÄ±nÄ±r?",
                    options: [
                        "Ay iÃ§inde tÃ¼ketilen toplam enerjinin (kWh)",
                        "Ay iÃ§inde ulaÅŸÄ±lan en yÃ¼ksek anlÄ±k gÃ¼cÃ¼n (kW)",
                        "Devlete Ã¶denen sabit vergilerin",
                        "Tesisin sahip olduÄŸu toplam baÄŸlÄ± yÃ¼kÃ¼n (kW)"
                    ],
                    correctAnswer: "Ay iÃ§inde ulaÅŸÄ±lan en yÃ¼ksek anlÄ±k gÃ¼cÃ¼n (kW)"
                },
                {
                    id: 4,
                    question: "(BÃ¶lÃ¼m 4) Bir projenin ekonomik analizinde 'ParanÄ±n Zaman DeÄŸeri' kavramÄ± neden dikkate alÄ±nmalÄ±dÄ±r?",
                    options: [
                        "Ã‡Ã¼nkÃ¼ bugÃ¼nkÃ¼ para, enflasyon ve faiz (fÄ±rsat maliyeti) nedeniyle gelecekteki paradan daha deÄŸerlidir.",
                        "Ã‡Ã¼nkÃ¼ gelecekteki para, teknolojik geliÅŸmeler nedeniyle bugÃ¼nkÃ¼ paradan daha deÄŸerlidir.",
                        "Ã‡Ã¼nkÃ¼ muhasebe standartlarÄ± sadece bugÃ¼nkÃ¼ deÄŸeri kabul eder.",
                        "Ã‡Ã¼nkÃ¼ projelerin maliyeti zamanla hep azalÄ±r."
                    ],
                    correctAnswer: "Ã‡Ã¼nkÃ¼ bugÃ¼nkÃ¼ para, enflasyon ve faiz (fÄ±rsat maliyeti) nedeniyle gelecekteki paradan daha deÄŸerlidir."
                },
                {
                    id: 5,
                    question: "(BÃ¶lÃ¼m 1) AB'nin '20-20-20' hedefleri arasÄ±nda hangisi *yoktur*?",
                    options: [
                        "%20 Enerji VerimliliÄŸi artÄ±ÅŸÄ±",
                        "%20 Sera GazÄ± Emisyonu azaltma",
                        "%20 Yenilenebilir Enerji payÄ±",
                        "%20 NÃ¼kleer Enerji payÄ±"
                    ],
                    correctAnswer: "%20 NÃ¼kleer Enerji payÄ±"
                },
                {
                    id: 6,
                    question: "(BÃ¶lÃ¼m 2) Santralin 'Baz YÃ¼kÃ¼nÃ¼' (Base Load) belirlemek iÃ§in en faydalÄ± olan ve yÃ¼kleri bÃ¼yÃ¼kten kÃ¼Ã§Ã¼ÄŸe sÄ±ralayan grafik hangisidir?",
                    options: [
                        "YÃ¼k EÄŸrisi (Load Curve)",
                        "YÃ¼k SÃ¼reklilik EÄŸrisi (Load Duration Curve)",
                        "Ã‡eÅŸitlilik GrafiÄŸi (Diversity Chart)",
                        "Kapasite FaktÃ¶rÃ¼ GrafiÄŸi (Capacity Factor Chart)"
                    ],
                    correctAnswer: "YÃ¼k SÃ¼reklilik EÄŸrisi (Load Duration Curve)"
                },
                {
                    id: 7,
                    question: "(BÃ¶lÃ¼m 3) FaturanÄ±zdaki talep bedelinin, mevcut tÃ¼ketiminizden baÄŸÄ±msÄ±z olarak, son 12 ayÄ±n en yÃ¼ksek zirvesinin belli bir yÃ¼zdesinden az olmamasÄ±nÄ± saÄŸlayan madde nedir?",
                    options: [
                        "GÃ¼Ã§ FaktÃ¶rÃ¼ CezasÄ± (Power Factor Clause)",
                        "YakÄ±t Ayarlama Bedeli (Fuel Adjustment Clause)",
                        "Ratchet Clause (GeÃ§miÅŸe BaÄŸlÄ± Talep Maddesi)",
                        "Blok FiyatlandÄ±rma (Block Pricing)"
                    ],
                    correctAnswer: "Ratchet Clause (GeÃ§miÅŸe BaÄŸlÄ± Talep Maddesi)"
                },
                {
                    id: 8,
                    question: "(BÃ¶lÃ¼m 4) Bir projenin tÃ¼m nakit akÄ±ÅŸlarÄ±nÄ±n (ilk yatÄ±rÄ±m, yÄ±llÄ±k tasarruflar) bugÃ¼nkÃ¼ deÄŸerlerinin toplamÄ±nÄ± bulan ve sonucun > 0 olmasÄ±nÄ± hedefleyen yÃ¶ntem nedir?",
                    options: [
                        "Net BugÃ¼nkÃ¼ DeÄŸer (NPW)",
                        "Basit Geri Ã–deme SÃ¼resi (SPB)",
                        "Fayda-Maliyet OranÄ± (BCR)",
                        "YaÅŸam DÃ¶ngÃ¼sÃ¼ Maliyeti (LCC)"
                    ],
                    correctAnswer: "Net BugÃ¼nkÃ¼ DeÄŸer (NPW)"
                },
                {
                    id: 9,
                    question: "(BÃ¶lÃ¼m 2) 'Ã‡eÅŸitlilik FaktÃ¶rÃ¼'nÃ¼n (Diversity Factor) 1'den bÃ¼yÃ¼k olmasÄ± ne anlama gelir?",
                    options: [
                        "Sistem Ã§ok verimsiz Ã§alÄ±ÅŸÄ±yor demektir.",
                        "TÃ¼m tÃ¼keticilerin maksimum talepleri aynÄ± anda oluyor demektir.",
                        "TÃ¼keticilerin maksimum talepleri farklÄ± anlarda oluyor demektir (bu santral iÃ§in iyidir).",
                        "Santral kapasitesi yetersiz demektir."
                    ],
                    correctAnswer: "TÃ¼keticilerin maksimum talepleri farklÄ± anlarda oluyor demektir (bu santral iÃ§in iyidir)."
                },
                {
                    id: 10,
                    question: "(BÃ¶lÃ¼m 3) Elektrik fiyatÄ±nÄ±n saatlik olarak deÄŸiÅŸtiÄŸi ve fiyatlarÄ±n bir gÃ¼n Ã¶nceden duyurulduÄŸu en dinamik tarife modeli hangisidir?",
                    options: [
                        "GerÃ§ek ZamanlÄ± FiyatlandÄ±rma (RTP)",
                        "Zaman EsaslÄ± Tarife (TOU)",
                        "Ters Blok Tarife (Inverted Block Rate)",
                        "DÃ¼z Tarife (Flat Rate)"
                    ],
                    correctAnswer: "GerÃ§ek ZamanlÄ± FiyatlandÄ±rma (RTP)"
                },
                {
                    id: 11,
                    question: "(BÃ¶lÃ¼m 1) DÃ¼ÅŸÃ¼k maliyetli (low cost) enerji yÃ¶netimi faaliyetleri ile ilk 1-2 yÄ±lda elde edilebilecek tipik tasarruf oranÄ± nedir?",
                    options: [
                        "%1 - %2",
                        "%5 - %15",
                        "%15 - %30",
                        "%30 - %50"
                    ],
                    correctAnswer: "%5 - %15"
                },
                {
                    id: 12,
                    question: "(BÃ¶lÃ¼m 4) FarklÄ± proje alternatiflerini (Ã¶rn. A kazanÄ± vs B kazanÄ±) karÅŸÄ±laÅŸtÄ±rÄ±rken, her alternatifin *tÃ¼m Ã¶mrÃ¼ boyunca* toplam maliyetini hesaplayan yÃ¶ntem nedir?",
                    options: [
                        "Net BugÃ¼nkÃ¼ DeÄŸer (NPW)",
                        "Geri Ã–deme SÃ¼resi (Payback Period)",
                        "YaÅŸam DÃ¶ngÃ¼sÃ¼ Maliyeti (LCC)",
                        "Ä°Ã§ Verim OranÄ± (ROR)"
                    ],
                    correctAnswer: "YaÅŸam DÃ¶ngÃ¼sÃ¼ Maliyeti (LCC)"
                },
                {
                    id: 13,
                    question: "(BÃ¶lÃ¼m 2) 'Talep FaktÃ¶rÃ¼'nÃ¼n (Demand Factor) tanÄ±mÄ± nedir?",
                    options: [
                        "Ortalama YÃ¼k / Maksimum Talep",
                        "Maksimum Talep / Toplam BaÄŸlÄ± YÃ¼k",
                        "Toplam BaÄŸlÄ± YÃ¼k / Maksimum Talep",
                        "Ortalama YÃ¼k / Toplam BaÄŸlÄ± YÃ¼k"
                    ],
                    correctAnswer: "Maksimum Talep / Toplam BaÄŸlÄ± YÃ¼k"
                },
                {
                    id: 14,
                    question: "(BÃ¶lÃ¼m 3) 'GÃ¼Ã§ FaktÃ¶rÃ¼' (Power Factor) neden Ã¶nemlidir ve tedarikÃ§iler neden dÃ¼ÅŸÃ¼k (Ã¶rn. <0.9) PF'yi cezalandÄ±rÄ±r?",
                    options: [
                        "Ã‡Ã¼nkÃ¼ dÃ¼ÅŸÃ¼k PF, aynÄ± iÅŸ (kW) iÃ§in ÅŸebekeden daha fazla toplam akÄ±m (kVA) Ã§ekildiÄŸini gÃ¶sterir (verimsizlik).",
                        "Ã‡Ã¼nkÃ¼ dÃ¼ÅŸÃ¼k PF, sadece konutlarda meydana gelir ve haksÄ±z yÃ¼ktÃ¼r.",
                        "Ã‡Ã¼nkÃ¼ dÃ¼ÅŸÃ¼k PF, enerjinin daha pahalÄ± Ã¼retildiÄŸi anlamÄ±na gelir.",
                        "Ã‡Ã¼nkÃ¼ dÃ¼ÅŸÃ¼k PF, sayaÃ§larÄ±n daha az yazmasÄ±na neden olur."
                    ],
                    correctAnswer: "Ã‡Ã¼nkÃ¼ dÃ¼ÅŸÃ¼k PF, aynÄ± iÅŸ (kW) iÃ§in ÅŸebekeden daha fazla toplam akÄ±m (kVA) Ã§ekildiÄŸini gÃ¶sterir (verimsizlik)."
                },
                {
                    id: 15,
                    question: "(BÃ¶lÃ¼m 4) Bir projenin 'Basit Geri Ã–deme SÃ¼resi' (Simple Payback Period) nasÄ±l hesaplanÄ±r?",
                    options: [
                        "Toplam Proje Ã–mrÃ¼ / YÄ±llÄ±k Tasarruf",
                        "Ä°lk YatÄ±rÄ±m Maliyeti / YÄ±llÄ±k Tasarruf",
                        "YÄ±llÄ±k Tasarruf / Ä°lk YatÄ±rÄ±m Maliyeti",
                        "Ä°lk YatÄ±rÄ±m Maliyeti / Proje Ã–mrÃ¼"
                    ],
                    correctAnswer: "Ä°lk YatÄ±rÄ±m Maliyeti / YÄ±llÄ±k Tasarruf"
                }
            ],
            en: [
                {
                    id: 1,
                    question: "(Chapter 1) What is the concept of 'Energy Intensity' and what does it mean when it is high?",
                    options: [
                        "It is per capita consumption; high value indicates prosperity.",
                        "It is energy per GDP; high value indicates inefficiency.",
                        "It is power plant capacity; high value indicates supply security.",
                        "It is renewable energy ratio; high value indicates environmentalism."
                    ],
                    correctAnswer: "It is energy per GDP; high value indicates inefficiency."
                },
                {
                    id: 2,
                    question: "(Chapter 2) What is the definition of 'Load Factor'?",
                    options: [
                        "Average Load / Maximum Demand",
                        "Maximum Demand / Average Load",
                        "Maximum Demand / Total Connected Load",
                        "Total Connected Load / Average Load"
                    ],
                    correctAnswer: "Average Load / Maximum Demand"
                },
                {
                    id: 3,
                    question: "(Chapter 3) What is the 'Demand Charge' in an electricity bill charged for?",
                    options: [
                        "Total energy consumed during the month (kWh)",
                        "Highest instantaneous power reached during the month (kW)",
                        "Fixed taxes paid to the government",
                        "Total connected load owned by the facility (kW)"
                    ],
                    correctAnswer: "Highest instantaneous power reached during the month (kW)"
                },
                {
                    id: 4,
                    question: "(Chapter 4) Why should the 'Time Value of Money' concept be considered in a project's economic analysis?",
                    options: [
                        "Because today's money is more valuable than future money due to inflation and interest (opportunity cost).",
                        "Because future money is more valuable than today's money due to technological developments.",
                        "Because accounting standards only accept present value.",
                        "Because project costs always decrease over time."
                    ],
                    correctAnswer: "Because today's money is more valuable than future money due to inflation and interest (opportunity cost)."
                },
                {
                    id: 5,
                    question: "(Chapter 1) Which of the following is *not* among the EU's '20-20-20' targets?",
                    options: [
                        "20% Energy Efficiency increase",
                        "20% Greenhouse Gas Emission reduction",
                        "20% Renewable Energy share",
                        "20% Nuclear Energy share"
                    ],
                    correctAnswer: "20% Nuclear Energy share"
                },
                {
                    id: 6,
                    question: "(Chapter 2) Which graph is most useful for determining the power plant's 'Base Load' and orders loads from largest to smallest?",
                    options: [
                        "Load Curve",
                        "Load Duration Curve",
                        "Diversity Chart",
                        "Capacity Factor Chart"
                    ],
                    correctAnswer: "Load Duration Curve"
                },
                {
                    id: 7,
                    question: "(Chapter 3) What clause ensures that the demand charge on your bill is not less than a certain percentage of the highest peak of the last 12 months, regardless of your current consumption?",
                    options: [
                        "Power Factor Clause",
                        "Fuel Adjustment Clause",
                        "Ratchet Clause",
                        "Block Pricing"
                    ],
                    correctAnswer: "Ratchet Clause"
                },
                {
                    id: 8,
                    question: "(Chapter 4) What method finds the sum of present values of all cash flows (initial investment, annual savings) of a project and aims for a result > 0?",
                    options: [
                        "Net Present Worth (NPW)",
                        "Simple Payback Period (SPB)",
                        "Benefit-Cost Ratio (BCR)",
                        "Life Cycle Cost (LCC)"
                    ],
                    correctAnswer: "Net Present Worth (NPW)"
                },
                {
                    id: 9,
                    question: "(Chapter 2) What does it mean when the 'Diversity Factor' is greater than 1?",
                    options: [
                        "The system is operating very inefficiently.",
                        "All consumers' maximum demands occur at the same time.",
                        "Consumers' maximum demands occur at different times (this is good for the power plant).",
                        "Power plant capacity is insufficient."
                    ],
                    correctAnswer: "Consumers' maximum demands occur at different times (this is good for the power plant)."
                },
                {
                    id: 10,
                    question: "(Chapter 3) What is the most dynamic tariff model where electricity prices change hourly and prices are announced one day in advance?",
                    options: [
                        "Real-Time Pricing (RTP)",
                        "Time-of-Use Tariff (TOU)",
                        "Inverted Block Rate",
                        "Flat Rate"
                    ],
                    correctAnswer: "Real-Time Pricing (RTP)"
                },
                {
                    id: 11,
                    question: "(Chapter 1) What is the typical savings rate that can be achieved in the first 1-2 years with low-cost energy management activities?",
                    options: [
                        "1% - 2%",
                        "5% - 15%",
                        "15% - 30%",
                        "30% - 50%"
                    ],
                    correctAnswer: "5% - 15%"
                },
                {
                    id: 12,
                    question: "(Chapter 4) What method calculates the total cost of each alternative *throughout its entire life* when comparing different project alternatives (e.g., boiler A vs boiler B)?",
                    options: [
                        "Net Present Worth (NPW)",
                        "Payback Period",
                        "Life Cycle Cost (LCC)",
                        "Rate of Return (ROR)"
                    ],
                    correctAnswer: "Life Cycle Cost (LCC)"
                },
                {
                    id: 13,
                    question: "(Chapter 2) What is the definition of 'Demand Factor'?",
                    options: [
                        "Average Load / Maximum Demand",
                        "Maximum Demand / Total Connected Load",
                        "Total Connected Load / Maximum Demand",
                        "Average Load / Total Connected Load"
                    ],
                    correctAnswer: "Maximum Demand / Total Connected Load"
                },
                {
                    id: 14,
                    question: "(Chapter 3) Why is 'Power Factor' important and why do suppliers penalize low (e.g., <0.9) PF?",
                    options: [
                        "Because low PF indicates that more total current (kVA) is drawn from the grid for the same work (kW) (inefficiency).",
                        "Because low PF only occurs in residences and is an unfair burden.",
                        "Because low PF means energy is produced more expensively.",
                        "Because low PF causes meters to record less."
                    ],
                    correctAnswer: "Because low PF indicates that more total current (kVA) is drawn from the grid for the same work (kW) (inefficiency)."
                },
                {
                    id: 15,
                    question: "(Chapter 4) How is the 'Simple Payback Period' of a project calculated?",
                    options: [
                        "Total Project Life / Annual Savings",
                        "Initial Investment Cost / Annual Savings",
                        "Annual Savings / Initial Investment Cost",
                        "Initial Investment Cost / Project Life"
                    ],
                    correctAnswer: "Initial Investment Cost / Annual Savings"
                }
            ]
        };

        // Get quiz data based on current language
        function getQuizData() {
            const lang = getLanguage();
            return quizDataBilingual[lang] || quizDataBilingual.tr;
        }

        
        document.addEventListener('DOMContentLoaded', () => {
            const quizContainer = document.getElementById('quiz-container');
            const quizForm = document.getElementById('quiz-form');
            const submitBtn = document.getElementById('submit-btn');
            const resultsContainer = document.getElementById('results-container');

            // 1. SÄ±navÄ± YÃ¼kle
            function loadQuiz() {
                const quizData = getQuizData(); // Get language-specific quiz data
                const lang = getLanguage();
                const questionText = translate('question', 'quiz');
                let quizHTML = '';
                quizData.forEach((q, index) => {
                    // Soru baÅŸlÄ±ÄŸÄ±
                    quizHTML += `
                        <div class="bg-white p-6 rounded-lg shadow-md border border-gray-100" id="question-card-${q.id}">
                            <p class="text-lg font-semibold text-gray-800">
                                ${questionText} ${index + 1}: ${q.question}
                            </p>
                            <div class="space-y-3 mt-4" id="options-container-${q.id}">
                    `;
                    
                    // Cevap seÃ§enekleri (Radyo butonlarÄ±)
                    q.options.forEach(option => {
                        quizHTML += `
                            <label class="block w-full p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors cursor-pointer">
                                <input type="radio" name="question-${q.id}" value="${option}" class="mr-3 text-blue-800 focus:ring-blue-700">
                                <span class="text-gray-700">${option}</span>
                            </label>
                        `;
                    });

                    quizHTML += `</div></div>`;
                });
                quizContainer.innerHTML = quizHTML;
            }

            // 2. SÄ±navÄ± GÃ¶nder ve SonuÃ§larÄ± GÃ¶ster
            function showResults(event) {
                event.preventDefault(); // Formun sayfayÄ± yenilemesini engelle

                const quizData = getQuizData(); // Get language-specific quiz data
                let score = 0;
                let wrongAnswersHTML = ''; // YanlÄ±ÅŸ cevaplar iÃ§in HTML
                
                quizData.forEach(q => {
                    const card = document.getElementById(`question-card-${q.id}`);
                    const optionsContainer = document.getElementById(`options-container-${q.id}`);
                    const allLabels = optionsContainer.querySelectorAll('label');

                    // KullanÄ±cÄ±nÄ±n seÃ§tiÄŸi cevabÄ± bul
                    const selectedRadio = document.querySelector(`input[name="question-${q.id}"]:checked`);
                    const userAnswer = selectedRadio ? selectedRadio.value : null;
                    const correctAnswer = q.correctAnswer;

                    // TÃ¼m etiketleri sÄ±fÄ±rla (eÄŸer varsa)
                    allLabels.forEach(label => {
                        label.classList.remove('correct-answer-label', 'wrong-answer-label');
                    });

                    if (userAnswer === correctAnswer) {
                        // Cevap doÄŸruysa
                        score++;
                        if (selectedRadio) {
                            selectedRadio.parentElement.classList.add('correct-answer-label');
                        }
                    } else {
                        // Cevap yanlÄ±ÅŸsa
                        if (selectedRadio) {
                            // KullanÄ±cÄ±nÄ±n yanlÄ±ÅŸ seÃ§imini kÄ±rmÄ±zÄ± yap
                            selectedRadio.parentElement.classList.add('wrong-answer-label');
                        }

                        // DoÄŸru cevabÄ± bul ve yeÅŸil yap
                        allLabels.forEach(label => {
                            const input = label.querySelector('input');
                            if (input.value === correctAnswer) {
                                label.classList.add('correct-answer-label');
                            }
                        });

                        // SonuÃ§ listesi iÃ§in HTML hazÄ±rla
                        const yourAnswerText = translate('yourAnswer', 'quiz');
                        const correctAnswerText = translate('correctAnswer', 'quiz');
                        const leftBlankText = translate('leftBlank', 'quiz');
                        
                        wrongAnswersHTML += `
                            <div class="p-4 border-b border-gray-200">
                                <p class="font-semibold text-gray-800">${q.question}</p>
                                <p class="text-red-600 mt-2"><strong>${yourAnswerText}:</strong> ${userAnswer || leftBlankText}</p>
                                <p class="text-green-600 mt-1"><strong>${correctAnswerText}:</strong> ${correctAnswer}</p>
                            </div>
                        `;
                    }
                });

                // SonuÃ§larÄ± Ã¼stte gÃ¶ster
                const lang = getLanguage();
                const scorePercentage = Math.round((score / quizData.length) * 100);
                const examResultText = translate('examResult', 'quiz');
                const scoreText = translate('score', 'quiz');
                const correctText = translate('correct', 'quiz');
                const wrongText = translate('wrong', 'quiz');
                const wrongQuestionsTitle = translate('wrongQuestionsTitle', 'quiz');
                const congratulations = translate('congratulations', 'quiz');
                
                resultsContainer.innerHTML = `
                    <h2 class="text-3xl font-bold text-center text-blue-900">${examResultText}</h2>
                    <p class="text-5xl font-bold text-center my-4">${scorePercentage} ${scoreText}</p>
                    <div class="flex justify-center gap-6 text-center text-lg">
                        <span class="font-semibold text-green-600">${correctText}: ${score}</span>
                        <span class="font-semibold text-red-600">${wrongText}: ${quizData.length - score}</span>
                    </div>
                    
                    ${wrongAnswersHTML ? `
                        <hr class="my-8">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">${wrongQuestionsTitle}</h3>
                        <div class="border border-gray-200 rounded-lg overflow-hidden">
                            ${wrongAnswersHTML}
                        </div>
                    ` : `
                        <hr class="my-8">
                        <p class="text-center text-2xl font-bold text-green-600">${congratulations}</p>
                    `}
                `;

                resultsContainer.classList.remove('hidden');
                submitBtn.classList.add('hidden'); // Butonu gizle
                
                // SonuÃ§lara odaklan
                resultsContainer.scrollIntoView({ behavior: 'smooth' });
            }

            // OlaylarÄ± BaÄŸla
            loadQuiz();
            quizForm.addEventListener('submit', showResults);
            
            // Re-render quiz when language changes
            document.addEventListener('languageChanged', () => {
                loadQuiz();
                updatePageTranslations();
            });
        });
    </script>
</body>
</html>